\usepackage{thesis}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{parcolumns}% http://ctan.org/pkg/parcolumns
\usepackage{textcomp}% http://ctan.org/pkg/textcomp
\usepackage{tikz}% http://ctan.org/pkg/pgf
\usetikzlibrary{calc}
\usetikzlibrary{positioning}

\usepackage{mathtools}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}%


\linespread{1.5}

\lstnewenvironment{algorithm}[1][] %defines the algorithm listing environment
{\renewcommand{\lstlistingname}{Algorithm}
	\noindent\minipage{\linewidth}\medskip 
    \lstset{ %this is the stype
        frame=tB,
        numbers=left, 
        numberstyle=\tiny,
		basicstyle=\linespread{1.3}\sffamily\scriptsize,
        keywordstyle=\color{green!40!black}\bfseries\em,
		language=C,
		emph={int,char,double, bool, void, float,unsigned, map, list, vector, set, true, false, GraphT, NodeT},
		emphstyle={\color{blue}},
		morekeywords={foreach,continue, otherwise, and},
        numbers=left,
        xleftmargin=.04\textwidth,
        escapeinside={(*}{*)},
        #1 % this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)
}}
{\endminipage}


\lstnewenvironment{llvmcode}[1][] %defines the algorithm listing environment
{\noindent\minipage{\linewidth}\medskip 
    \lstset{ %this is the stype
        frame=tB,
        numbers=left, 
        numberstyle=\tiny,
		basicstyle=\linespread{1.3}\sffamily\scriptsize,
        keywordstyle=\color{green!40!black}\bfseries\em,
		emph={i32},
		language=C,	
		emphstyle={\color{blue}},
		morekeywords={define, load, add, align, store, br, alloca},
        numbers=left,
        xleftmargin=.04\textwidth,
        escapeinside={(*}{*)},
        #1 % this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)
}}
{\endminipage}

\lstnewenvironment{formatdesc}[1][] %defines the algorithm listing environment
{\renewcommand{\lstlistingname}{Format}
	\noindent\minipage{\linewidth}\medskip 
    \lstset{ %this is the stype
        frame=tB,
		basicstyle=\linespread{1.3}\sffamily\scriptsize,
        #1 % this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)
}}
{\endminipage}